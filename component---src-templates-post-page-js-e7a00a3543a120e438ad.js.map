{"version":3,"sources":["webpack:///./src/components/Outline/Outline.jsx","webpack:///./src/components/Outline/index.js","webpack:///./src/components/Gallery/Gallery.jsx","webpack:///./src/components/Gallery/index.js","webpack:///./src/components/Affix/Affix.jsx","webpack:///./src/components/Affix/index.js","webpack:///./src/templates/post/page.js","webpack:///./node_modules/react-disqus-comments/build/main.js","webpack:///./node_modules/react-disqus-comments/build/components/DisqusThread.js"],"names":["Outline","props","_handleResize","setState","maxHeight","_getMaxHeight","window","innerHeight","_handleGotoAnchor","value","location","hash","toLowerCase","replace","state","componentDidMount","on","this","componentWillUnmount","off","render","list","positionFixed","namespace","placement","reference","icon","className","style","overflow","map","depth","key","data-depth","onMouseDown","PureComponent","defaultProps","$root","PADDING","document","getElementById","Gallery","load","$imgs","images","forEach","$img","index","func","e","_handleImageClick","push","src","$imgFuncs","destroy","preventDefault","scrollY","pageYOffset","windowW","innerWidth","windowH","offset","getOffset","entering","top","left","width","height","entered","imgW","imgH","show","curr","_handleExitingGallery","waiting","addStyle","opacity","exiting","exited","_handleEnter","body","_handleExited","_renderPortal","image","stateMap","maskMap","visibility","Transition","mountOnEnter","unmountOnExit","in","timeout","onEnter","onExited","onClick","alt","ReactDOM","createPortal","Affix","useState","setShow","useEffect","handleScroll","animation","requestAnimationFramePolyfill","cls","scrollTop","PostBigInfo","id","fields","excerpt","timeToRead","frontmatter","title","reverse","to","slug","fluid","pick","PostPage","_renderComments","post","data","ThemeContext","Consumer","ref","$disqus","shortname","process","GATSBY_DISQUS_SHORTNAME","identifier","url","href","setTimeout","current","loadDisqus","$content","React","createRef","$gallery","Array","from","getElementsByTagName","prevPost","nextPost","tags","series","headings","Layout","autoHidden","snakke","name","length","tag","dangerouslySetInnerHTML","__html","data-size","Post","query","module","exports","Object","defineProperty","_extends","assign","target","i","arguments","source","prototype","hasOwnProperty","call","_createClass","defineProperties","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react2","_interopRequireDefault","_propTypes2","obj","__esModule","DISQUS_CONFIG","__disqusAdded","copyProps","context","onNewComment","language","rest","keys","indexOf","_objectWithoutProperties","prop","page","callbacks","DisqusThread","_React$Component","instance","TypeError","_classCallCheck","self","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","apply","subClass","superClass","create","constructor","setPrototypeOf","_inherits","nextProps","nextState","_this2","reduce","memo","some","config","_defineProperty","createElement","child","disqus","parent","async","type","appendChild","_this3","DISQUS","reset","reload","disqus_config","addDisqusScript","Component","displayName","propTypes","string","isRequired","category_id"],"mappings":"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","file":"component---src-templates-post-page-js-e7a00a3543a120e438ad.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport { on, off } from 'dom-lib';\n\nimport { Icon, Popover } from 'components/common';\n\nimport './style.less';\n\nclass Outline extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      maxHeight: this._getMaxHeight(),\n    };\n  }\n\n  componentDidMount() {\n    on(window, 'resize', this._handleResize);\n  }\n\n  componentWillUnmount() {\n    off(window, 'resize', this._handleResize);\n  }\n\n  _handleResize = () => {\n    this.setState({ maxHeight: this._getMaxHeight() });\n  };\n\n  _getMaxHeight = () => {\n    return typeof window !== 'undefined' ? window.innerHeight - 200 : 200;\n  };\n\n  _handleGotoAnchor = ({ value }) => {\n    window.location.hash = `#${value\n      .toLowerCase()\n      .replace(/\\s+/g, '-')\n      .replace(/\\./g, '')}`;\n  };\n\n  render() {\n    const { maxHeight } = this.state;\n    const { list } = this.props;\n\n    if (maxHeight < 0) return null;\n\n    return (\n      <Popover\n        positionFixed\n        namespace=\"outline\"\n        placement=\"top-start\"\n        reference={<Icon icon=\"menu\" />}\n      >\n        <div\n          className=\"outline__anchor\"\n          style={{ maxHeight, overflow: 'auto' }}\n        >\n          <div className=\"outline__anchor-title\">Outline</div>\n          <div className=\"outline__anchor-list\">\n            {list.map(({ value, depth }) => (\n              <div\n                key={`${depth}-${value}`}\n                className=\"outline__anchor-item\"\n                data-depth={depth}\n                onMouseDown={() => this._handleGotoAnchor({ depth, value })}\n              >\n                {value}\n              </div>\n            ))}\n          </div>\n        </div>\n      </Popover>\n    );\n  }\n}\n\nOutline.propTypes = {};\n\nOutline.defaultProps = {};\n\nexport default Outline;\n","import Outline from './Outline.jsx';\n\nexport default Outline;\n","import React, { PureComponent } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Transition } from 'react-transition-group';\nimport { on, off, getOffset, addStyle } from 'dom-lib';\n\nimport './style.less';\n\nconst PADDING = 5;\nlet $root;\n\nif (typeof window !== `undefined`) {\n  $root = document.getElementById('gallery-root');\n}\n\nclass Gallery extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      show: false,\n      curr: 0,\n      images: [],\n\n      entering: {},\n      entered: {},\n      exiting: {},\n      exited: {},\n    };\n\n    this.$imgs = [];\n    this.$imgFuncs = [];\n  }\n\n  load = $imgs => {\n    const images = [];\n\n    this.$imgs = $imgs;\n\n    $imgs.forEach(($img, index) => {\n      const func = e => this._handleImageClick(e, $img, index);\n\n      images.push($img.src);\n\n      this.$imgFuncs.push(func);\n\n      on($img, 'click', func);\n    });\n\n    this.setState({ images });\n  };\n\n  destroy = () => {\n    this.$imgs.forEach(($img, index) => {\n      off($img, 'click', this.$imgFuncs[index]);\n    });\n  };\n\n  _handleImageClick = (e, $img, index) => {\n    e.preventDefault();\n\n    const scrollY = window.scrollY || window.pageYOffset;\n    const windowW = window.innerWidth;\n    const windowH = window.innerHeight;\n    const offset = getOffset($img);\n    const entering = {\n      top: offset.top - scrollY,\n      left: offset.left,\n      width: offset.width,\n      height: offset.height,\n    };\n    let entered = {};\n\n    if (offset.width / offset.height > windowW / windowH) {\n      const imgW = windowW - PADDING * 2;\n      const imgH = (imgW * offset.height) / offset.width;\n\n      entered = {\n        top: (windowH - imgH) / 2,\n        left: PADDING,\n        width: imgW,\n        height: imgH,\n      };\n    } else {\n      const imgH = windowH - PADDING * 2;\n      const imgW = (offset.width / offset.height) * imgH;\n\n      entered = {\n        top: PADDING,\n        left: (windowW - imgW) / 2,\n        width: imgW,\n        height: imgH,\n      };\n    }\n\n    // addStyle($img, { opacity: 0 });\n\n    this.setState({\n      show: true,\n      curr: index,\n      entering,\n      entered,\n    });\n  };\n\n  _handleExitingGallery = e => {\n    const { curr, show } = this.state;\n\n    e.preventDefault();\n\n    if (!show) return;\n    if (this.waiting) return;\n\n    this.waiting = true;\n\n    const $img = this.$imgs[curr];\n    const scrollY = window.scrollY || window.pageYOffset;\n    const offset = getOffset($img);\n\n    addStyle($img, { opacity: 1 });\n\n    this.setState(\n      {\n        show: false,\n        exiting: {\n          top: offset.top - scrollY,\n          left: offset.left,\n          width: offset.width,\n          height: offset.height,\n        },\n        exited: {},\n      },\n      () => (this.waiting = false)\n    );\n  };\n\n  _handleEnter = () => {\n    addStyle(document.body, { overflow: 'hidden' });\n  };\n\n  _handleExited = () => {\n    addStyle(document.body, { overflow: 'auto' });\n  };\n\n  _renderPortal = () => {\n    const {\n      images,\n      curr,\n      show,\n      entering,\n      entered,\n      exiting,\n      exited,\n    } = this.state;\n    const image = images[curr];\n    const stateMap = {\n      entering,\n      entered,\n      exiting,\n      exited,\n    };\n    const maskMap = {\n      entering: {\n        visibility: 'hidden',\n        opacity: 0,\n      },\n      entered: {\n        visibility: 'visible',\n        opacity: 1,\n      },\n      exiting: {\n        visibility: 'hidden',\n        opacity: 0,\n      },\n      exited: {},\n    };\n\n    return (\n      <Transition\n        mountOnEnter\n        unmountOnExit\n        in={show}\n        timeout={300}\n        onEnter={this._handleEnter}\n        onExited={this._handleExited}\n      >\n        {state => (\n          <div className=\"gallery\" onClick={this._handleExitingGallery}>\n            <div className=\"gallery__mask\" style={maskMap[state]} />\n            <img\n              className=\"gallery__preview\"\n              style={{ ...stateMap[state], ...maskMap[state] }}\n              src={image}\n              alt=\"preview\"\n            />\n          </div>\n        )}\n      </Transition>\n    );\n  };\n\n  render() {\n    if (!$root) return null;\n\n    return ReactDOM.createPortal(this._renderPortal(), $root);\n  }\n}\n\nGallery.propTypes = {};\nGallery.defaultProps = {};\n\nexport default Gallery;\n","import Gallery from './Gallery.jsx';\n\nexport default Gallery;\n","import React, { useState, useEffect } from 'react';\nimport { on, off, animation, scrollTop } from 'dom-lib';\nimport cls from 'classnames';\n\nimport { Icon } from 'components/common';\n\nimport './style.less';\n\nlet waiting = false;\n\nexport default function Affix() {\n  const [show, setShow] = useState(false);\n\n  useEffect(() => {\n    function handleScroll() {\n      if (waiting) return;\n\n      waiting = true;\n\n      animation.requestAnimationFramePolyfill(() => {\n        const scrollY = window.scrollY || window.pageYOffset;\n        const boundary = 0;\n\n        if (scrollY > boundary && !show) {\n          setShow(true);\n          waiting = false;\n\n          return;\n        }\n\n        if (scrollY <= boundary && show) {\n          setShow(false);\n          waiting = false;\n\n          return;\n        }\n\n        waiting = false;\n      });\n    }\n\n    on(window, 'scroll', handleScroll);\n\n    return () => {\n      off(window, 'scroll', handleScroll);\n    };\n  });\n\n  return (\n    <div\n      className={cls(['affix', show && 'affix--show'])}\n      onClick={() => scrollTop(window, 0)}\n    >\n      <Icon icon=\"arrow-up\" />\n    </div>\n  );\n}\n","import Affix from './Affix.jsx';\n\nexport default Affix;\n","import React, { PureComponent } from 'react';\nimport ReactDisqusComments from 'react-disqus-comments';\nimport { Link, graphql } from 'gatsby';\nimport Img from 'gatsby-image';\nimport cls from 'classnames';\nimport pick from 'utils/pick';\n\nimport Layout from 'components/Layout';\nimport Outline from 'components/Outline';\nimport Gallery from 'components/Gallery';\nimport Affix from 'components/Affix';\nimport ThemeContext from 'components/ThemeContext';\nimport { PostBig } from 'components/Post';\n\nimport 'katex/dist/katex.min.css';\nimport './style.less';\n\nfunction PostBigInfo({\n  id,\n  fields,\n  excerpt,\n  timeToRead,\n  frontmatter,\n  title,\n  reverse,\n}) {\n  return (\n    <div className={cls(['post-page__big-info', reverse && 'reverse'])}>\n      <div className=\"post-page__big-info__cover\">\n        <Link to={fields.slug}>\n          <Img fluid={pick(frontmatter, 'cover.childImageSharp.fluid')} />\n        </Link>\n      </div>\n      <div className=\"post-page__big-info__content\">\n        <div className=\"post-page__big-info__link\">\n          <Link to={fields.slug}>{title}</Link>\n        </div>\n        <Link to={fields.slug}>\n          <div className=\"post-page__big-info__title\">{frontmatter.title}</div>\n          <div className=\"post-page__big-info__desc\">{excerpt}</div>\n        </Link>\n        <div className=\"post-page__big-info__footer\">\n          <div className=\"nickname\">\n            <Link to={`/author/${pick(frontmatter, 'author.id')}`}>\n              {pick(frontmatter, 'author.nickname')}\n            </Link>\n          </div>\n          <div className=\"date\">{pick(frontmatter, 'date')}</div>\n          <div className=\"ttr\">{timeToRead}min read</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default class PostPage extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.$content = React.createRef();\n    this.$gallery = React.createRef();\n    this.$disqus = React.createRef();\n  }\n\n  componentDidMount() {\n    const $content = this.$content.current;\n    const $gallery = this.$gallery.current;\n\n    if (!$content || !$gallery) return;\n\n    $gallery.load(Array.from($content.getElementsByTagName('img')));\n  }\n\n  componentWillUnmount() {\n    const $gallery = this.$gallery.current;\n\n    if (!$gallery) return;\n\n    $gallery.destroy();\n  }\n\n  _renderComments = () => {\n    if (typeof window === 'undefined') return null;\n\n    const { data } = this.props;\n    const { post } = data;\n\n    return (\n      <ThemeContext.Consumer>\n        {() => (\n          <ReactDisqusComments\n            ref={this.$disqus}\n            shortname={process.env.GATSBY_DISQUS_SHORTNAME}\n            identifier={post.id}\n            title={pick(post, 'frontmatter.title')}\n            url={window.location.href}\n          >\n            {setTimeout(\n              () =>\n                this.$disqus &&\n                this.$disqus.current &&\n                this.$disqus.current.loadDisqus(),\n              300\n            )}\n          </ReactDisqusComments>\n        )}\n      </ThemeContext.Consumer>\n    );\n  };\n\n  render() {\n    const { data } = this.props;\n    const { post, prevPost, nextPost } = data;\n    const tags = pick(post, 'frontmatter.tags') || [];\n    const series = pick(post, 'frontmatter.series');\n    const headings = pick(post, 'headings') || [];\n\n    return (\n      <Layout\n        className=\"post-page\"\n        autoHidden\n        snakke\n        title={series && <Link to={`/series/${series.id}`}>{series.name}</Link>}\n      >\n        <div className=\"post-page__header\">\n          <div className=\"post-page__header__content\">\n            {tags.length > 0 && (\n              <div className=\"post-page__header__tags\">\n                {tags.map(tag => (\n                  <span key={tag.id}>\n                    <Link to={`/tag/${tag.id}`}>{tag.name}</Link>\n                  </span>\n                ))}\n              </div>\n            )}\n            <div className=\"post-page__header__title\">\n              {pick(post, 'frontmatter.title')}\n            </div>\n            <div className=\"post-page__header__author\">\n              <Link to={`/author/${pick(post, 'frontmatter.author.id')}`}>\n                <img\n                  className=\"avatar\"\n                  src={pick(\n                    post,\n                    'frontmatter.author.avatar.childImageSharp.resize.src'\n                  )}\n                  alt={pick(post, 'frontmatter.author.nickname')}\n                />\n              </Link>\n              <div className=\"content\">\n                <div className=\"nickname\">\n                  <Link to={`/author/${pick(post, 'frontmatter.author.id')}`}>\n                    {pick(post, 'frontmatter.author.nickname')}\n                  </Link>\n                </div>\n                <div className=\"desc\">\n                  <div className=\"date\">{pick(post, 'frontmatter.date')}</div>\n                  <div className=\"ttr\">{pick(post, 'timeToRead')}min read</div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"post-page__header__cover\">\n            <Img\n              fluid={pick(post, 'frontmatter.cover.childImageSharp.fluid')}\n            />\n          </div>\n        </div>\n        <div\n          ref={this.$content}\n          className=\"post-page__content\"\n          dangerouslySetInnerHTML={{ __html: pick(post, 'html') }}\n        />\n        <div className=\"post-page__disqus\">{this._renderComments()}</div>\n        <div data-size=\"normal\" className=\"post-page__footer\">\n          {nextPost && <PostBig post={nextPost} />}\n          {prevPost && <PostBig post={prevPost} />}\n        </div>\n        <div data-size=\"large\" className=\"post-page__footer\">\n          {nextPost && <PostBigInfo {...nextPost} title=\"READ NEXT\" />}\n          {prevPost && (\n            <PostBigInfo {...prevPost} title=\"READ PREV\" reverse={true} />\n          )}\n        </div>\n        <Outline list={headings} />\n        <Gallery ref={this.$gallery} />\n        <Affix />\n      </Layout>\n    );\n  }\n}\n\nexport const query = graphql`\n  fragment PostPageDetail on MarkdownRemark {\n    id\n    fields {\n      slug\n    }\n    excerpt\n    timeToRead\n    frontmatter {\n      title\n      cover {\n        ... on File {\n          childImageSharp {\n            fluid(maxWidth: 1200, maxHeight: 500, cropFocus: CENTER) {\n              ...GatsbyImageSharpFluid\n            }\n          }\n        }\n      }\n      date: date(formatString: \"MMM D\")\n      author {\n        id\n        nickname\n        avatar {\n          ... on File {\n            childImageSharp {\n              resize(width: 80, height: 80, cropFocus: CENTER) {\n                src\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  query PostPageQuery($id: String, $prevSlug: String, $nextSlug: String) {\n    prevPost: markdownRemark(fields: { slug: { eq: $prevSlug } }) {\n      ...PostPageDetail\n    }\n    nextPost: markdownRemark(fields: { slug: { eq: $nextSlug } }) {\n      ...PostPageDetail\n    }\n    post: markdownRemark(id: { eq: $id }) {\n      id\n      fields {\n        slug\n      }\n      html\n      excerpt\n      headings {\n        value\n        depth\n      }\n      timeToRead\n      wordCount {\n        paragraphs\n        sentences\n        words\n      }\n      frontmatter {\n        title\n        cover {\n          ... on File {\n            childImageSharp {\n              fluid(maxWidth: 1200, maxHeight: 500, cropFocus: CENTER) {\n                ...GatsbyImageSharpFluid\n              }\n            }\n          }\n        }\n        date: date(formatString: \"MMM D\")\n        author {\n          id\n          nickname\n          avatar {\n            ... on File {\n              childImageSharp {\n                resize(width: 80, height: 80, cropFocus: CENTER) {\n                  src\n                }\n              }\n            }\n          }\n        }\n        tags {\n          id\n          name\n        }\n        series {\n          id\n          name\n        }\n      }\n    }\n  }\n`;\n","'use strict';\n\nmodule.exports = require('./components/DisqusThread');","'use strict';\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/es6.array.for-each\");\n\nrequire(\"core-js/modules/es6.array.some\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.array.reduce\");\n\nrequire(\"core-js/modules/es6.array.index-of\");\n\nrequire(\"core-js/modules/es6.object.set-prototype-of\");\n\nrequire(\"core-js/modules/es6.object.create\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.object.define-property\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nvar DISQUS_CONFIG = ['shortname', 'identifier', 'title', 'url', 'category_id', 'onNewComment', 'language'];\nvar __disqusAdded = false;\n\nfunction copyProps(context, props) {\n  var onNewComment = props.onNewComment,\n      language = props.language,\n      rest = _objectWithoutProperties(props, ['onNewComment', 'language']);\n\n  for (var prop in rest) {\n    context.page[prop] = rest[prop];\n  } // Setting the language - if none is provided, the default one is used\n\n\n  context.language = language;\n\n  if (onNewComment) {\n    context.callbacks = {\n      onNewComment: [onNewComment]\n    };\n  }\n}\n\nvar DisqusThread = function (_React$Component) {\n  _inherits(DisqusThread, _React$Component);\n\n  function DisqusThread() {\n    _classCallCheck(this, DisqusThread);\n\n    return _possibleConstructorReturn(this, (DisqusThread.__proto__ || Object.getPrototypeOf(DisqusThread)).apply(this, arguments));\n  }\n\n  _createClass(DisqusThread, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.loadDisqus();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.loadDisqus();\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return nextProps.identifier !== this.props.identifier;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var props = Object.keys(this.props).reduce(function (memo, key) {\n        return DISQUS_CONFIG.some(function (config) {\n          return config === key;\n        }) ? memo : _extends({}, memo, _defineProperty({}, key, _this2.props[key]));\n      }, {});\n      return _react2[\"default\"].createElement('div', props, _react2[\"default\"].createElement('div', {\n        id: 'disqus_thread'\n      }));\n    }\n  }, {\n    key: 'addDisqusScript',\n    value: function addDisqusScript() {\n      if (__disqusAdded) {\n        return;\n      }\n\n      var child = this.disqus = document.createElement('script');\n      var parent = document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0];\n      child.async = true;\n      child.type = 'text/javascript';\n      child.src = '//' + this.props.shortname + '.disqus.com/embed.js';\n      parent.appendChild(child);\n      __disqusAdded = true;\n    }\n  }, {\n    key: 'loadDisqus',\n    value: function loadDisqus() {\n      var _this3 = this;\n\n      var props = {}; // Extract Disqus props that were supplied to this component\n\n      DISQUS_CONFIG.forEach(function (prop) {\n        // prop \"shortname\" is only necessary for loading the script, not for the config itself\n        if (prop !== 'shortname' && !!_this3.props[prop]) {\n          props[prop] = _this3.props[prop];\n        }\n      }); // If Disqus has already been added, reset it\n\n      if (typeof DISQUS !== 'undefined') {\n        DISQUS.reset({\n          reload: true,\n          config: function config() {\n            copyProps(this, props); // Disqus needs hashbang URL, see https://help.disqus.com/customer/portal/articles/472107\n\n            this.page.url = this.page.url.replace(/#/, '') + '#!newthread';\n          }\n        });\n      } else {\n        // Otherwise add Disqus to the page\n        window.disqus_config = function () {\n          copyProps(this, props);\n        };\n\n        this.addDisqusScript();\n      }\n    }\n  }]);\n\n  return DisqusThread;\n}(_react2[\"default\"].Component);\n\nDisqusThread.displayName = 'DisqusThread';\nDisqusThread.propTypes = {\n  id: _propTypes2[\"default\"].string,\n\n  /**\n   * `shortname` tells the Disqus service your forum's shortname,\n   * which is the unique identifier for your website as registered\n   * on Disqus. If undefined , the Disqus embed will not load.\n   */\n  shortname: _propTypes2[\"default\"].string.isRequired,\n\n  /**\n   * `identifier` tells the Disqus service how to identify the\n   * current page. When the Disqus embed is loaded, the identifier\n   * is used to look up the correct thread. If disqus_identifier\n   * is undefined, the page's URL will be used. The URL can be\n   * unreliable, such as when renaming an article slug or changing\n   * domains, so we recommend using your own unique way of\n   * identifying a thread.\n   */\n  identifier: _propTypes2[\"default\"].string,\n\n  /**\n   * `title` tells the Disqus service the title of the current page.\n   * This is used when creating the thread on Disqus for the first time.\n   * If undefined, Disqus will use the <title> attribute of the page.\n   * If that attribute could not be used, Disqus will use the URL of the page.\n   */\n  title: _propTypes2[\"default\"].string,\n\n  /**\n   * `url` tells the Disqus service the URL of the current page.\n   * If undefined, Disqus will take the window.location.href.\n   * This URL is used to look up or create a thread if disqus_identifier\n   * is undefined. In addition, this URL is always saved when a thread is\n   * being created so that Disqus knows what page a thread belongs to.\n   */\n  url: _propTypes2[\"default\"].string,\n\n  /**\n   * `category_id` tells the Disqus service the category to be used for\n   * the current page. This is used when creating the thread on Disqus\n   * for the first time.\n   */\n  category_id: _propTypes2[\"default\"].string,\n\n  /**\n   * `onNewComment` function accepts one parameter `comment` which is a\n   * JavaScript object with comment `id` and `text`. This allows you to track\n   * user comments and replies and run a script after a comment is posted.\n   */\n  onNewComment: _propTypes2[\"default\"].func,\n\n  /**\n   * `language` tells the Disqus service which language should be used.\n   * Please refer to https://www.transifex.com/disqus/disqus/ on which languages can be used\n   * If undefined, English is used as default one\n   */\n  language: _propTypes2[\"default\"].string\n};\nDisqusThread.defaultProps = {\n  url: typeof window === 'undefined' ? null : window.location.href\n};\nexports[\"default\"] = DisqusThread;"],"sourceRoot":""}